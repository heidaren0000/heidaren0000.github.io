<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>NodeJS(ä¸‰) npm åŒ…ç®¡ç† | Darenâ€™s Daliy</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="NodeJS(ä¸‰) npm åŒ…ç®¡ç†" />
<meta name="author" content="é»‘å¤§ä»»" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="1. ç®€ä»‹ Introduction" />
<meta property="og:description" content="1. ç®€ä»‹ Introduction" />
<link rel="canonical" href="http://localhost:4000/node/2020/02/18/NodeJS(3)-NPM.html" />
<meta property="og:url" content="http://localhost:4000/node/2020/02/18/NodeJS(3)-NPM.html" />
<meta property="og:site_name" content="Darenâ€™s Daliy" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-02-18T23:16:00+08:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/node/2020/02/18/NodeJS(3)-NPM.html","headline":"NodeJS(ä¸‰) npm åŒ…ç®¡ç†","dateModified":"2020-02-18T23:16:00+08:00","datePublished":"2020-02-18T23:16:00+08:00","author":{"@type":"Person","name":"é»‘å¤§ä»»"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/node/2020/02/18/NodeJS(3)-NPM.html"},"description":"1. ç®€ä»‹ Introduction","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Daren's Daliy" /></head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Daren&#39;s Daliy</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/">Posts</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">NodeJS(ä¸‰) npm åŒ…ç®¡ç†</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-02-18T23:16:00+08:00" itemprop="datePublished">Feb 18, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="1-ç®€ä»‹-introduction">1. ç®€ä»‹ Introduction</h2>

<p>NPM(NodeJS Package Manager), æ˜¯ NodeJS çš„åŒ…ç®¡ç†å·¥å…·. é€šè¿‡ NPM å¯ä»¥ä¸‹è½½åˆ°æ•°ä»¥åä¸‡è®¡çš„è‡ªç”±çš„,é«˜å¯ç”¨æ€§çš„ NodeJS å·¥å…·.</p>

<p>å®˜ç½‘: www.npmjs.com</p>

<p>è¦æ³¨æ„çš„æ˜¯ npm å’Œ NodeJS åˆ†å¼€å¼€å‘çš„, åªæ˜¯å®‰è£…çš„æ—¶å€™ä¼šåŒæ—¶å®‰è£…è€Œå·².</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i <span class="nt">-g</span> npm@5.5.1
<span class="c"># i : å®‰è£…å‚æ•°</span>
<span class="c"># -g : å…¨å±€å®‰è£…</span>
<span class="c"># @ : æŒ‡å®šç‰ˆæœ¬å·</span>
</code></pre></div></div>

<h2 id="2-packagejson">2. package.json</h2>

<p>åœ¨å‘é¡¹ç›®ä¸­æ·»åŠ  npm åŒ…ä¹‹å‰, ä½ éœ€è¦ç°åœ¨ä½ çš„é¡¹ç›®ä¸­å»ºç«‹ä¸€ä¸ª package.json. è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†ä½ çš„é¡¹ç›®çš„å…ƒæ•°æ®(metadata), æ¯”å¦‚ä½œè€…, GitHub çš„æºåœ°å€ç­‰ç­‰. è¦æ–¹ä¾¿å¿«æ·çš„åˆ›å»º package.json ,å¯ä»¥ä½¿ç”¨</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm init
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:npm-demo daren<span class="nv">$ </span>npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See <span class="sb">`</span>npm <span class="nb">help </span>json<span class="sb">`</span> <span class="k">for </span>definitive documentation on these fields
and exactly what they <span class="k">do</span><span class="nb">.</span>

Use <span class="sb">`</span>npm <span class="nb">install</span> &lt;pkg&gt;<span class="sb">`</span> afterwards to <span class="nb">install </span>a package and
save it as a dependency <span class="k">in </span>the package.json file.

Press ^C at any <span class="nb">time </span>to quit.
package name: <span class="o">(</span>npm-demo<span class="o">)</span> <span class="c"># é¡¹ç›®çš„åŒ…å</span>
version: <span class="o">(</span>1.0.0<span class="o">)</span> <span class="c"># é¡¹ç›®çš„ç‰ˆæœ¬å·</span>
description: npm-demo <span class="c"># é¡¹ç›®çš„æè¿°</span>
entry point: <span class="o">(</span>index.js<span class="o">)</span> <span class="c"># é¡¹ç›®çš„è¿›å…¥ç‚¹(ä¸€èˆ¬å°±æ˜¯ index.js æˆ–è€… app.js)</span>
<span class="nb">test command</span>: 
git repository: 
keywords: 
author: 
license: <span class="o">(</span>ISC<span class="o">)</span> 
About to write to /Users/daren/Desktop/npm-demo/package.json:

<span class="o">{</span>
  <span class="s2">"name"</span>: <span class="s2">"npm-demo"</span>,
  <span class="s2">"version"</span>: <span class="s2">"1.0.0"</span>,
  <span class="s2">"description"</span>: <span class="s2">"npm-demo"</span>,
  <span class="s2">"main"</span>: <span class="s2">"index.js"</span>,
  <span class="s2">"scripts"</span>: <span class="o">{</span>
    <span class="s2">"test"</span>: <span class="s2">"echo </span><span class="se">\"</span><span class="s2">Error: no test specified</span><span class="se">\"</span><span class="s2"> &amp;&amp; exit 1"</span>
  <span class="o">}</span>,
  <span class="s2">"author"</span>: <span class="s2">""</span>,
  <span class="s2">"license"</span>: <span class="s2">"ISC"</span>
<span class="o">}</span>


Is this OK? <span class="o">(</span><span class="nb">yes</span><span class="o">)</span> 

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 npm update check failed                  â”‚
â”‚           Try running with <span class="nb">sudo </span>or get access            â”‚
â”‚           to the <span class="nb">local </span>update config store via           â”‚
â”‚ <span class="nb">sudo chown</span> <span class="nt">-R</span> <span class="nv">$USER</span>:<span class="si">$(</span><span class="nb">id</span> <span class="nt">-gn</span> <span class="nv">$USER</span><span class="si">)</span> /Users/daren/.config â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MacBook-Pro:npm-demo daren<span class="nv">$ </span>

</code></pre></div></div>

<p>æŒ‰ç…§è¿™ä¸€å¥—æµç¨‹ä¸‹æ¥, å°±å¯ä»¥æ–¹ä¾¿çš„å®Œæˆåˆå§‹åŒ–.</p>

<p>å¦‚æœä½ æƒ³è¦æ‰€æœ‰çš„é€‰é¡¹éƒ½ä¿ç•™é»˜è®¤, ç›´æ¥</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm init <span class="nt">--yes</span>
</code></pre></div></div>

<h2 id="3-å®‰è£…-node-åŒ…-installing-a-node-package">3. å®‰è£… Node åŒ… (Installing a Node package)</h2>

<p>è¦å®‰è£… npm åŒ…, æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>åŒ…å
<span class="c"># install å¯ä»¥ç”¨ i æ¥ä»£æ›¿</span>
</code></pre></div></div>

<p>å®‰è£… npm åŒ…çš„è¿‡ç¨‹ä¸­, ä¼šäº§ç”Ÿä¸‹é¢çš„è¡Œä¸º:</p>

<ul>
  <li>å°†ä¸‹è½½çš„åŒ…å®‰è£…åˆ° <code class="highlighter-rouge">node_modules</code> æ–‡ä»¶å¤¹ä¸­</li>
  <li>å°†ä¸‹è½½çš„åŒ…åä»¥åŠç‰ˆæœ¬æ·»åŠ åˆ° <code class="highlighter-rouge">package.json</code> ä¸­çš„ <code class="highlighter-rouge">dependences</code>é‡Œ, æ— è®ºå®‰è£…æ˜¯å¦æˆåŠŸ, éƒ½ä¼šæ·»åŠ è¿›å».</li>
</ul>

<p><img src="https://raw.githubusercontent.com/heidaren0000/blogGallery/master/imgs/1-1-1-package-json.png" alt="" /></p>

<h2 id="4-ä½¿ç”¨-npm-åŒ…-using-a-package">4. ä½¿ç”¨ npm åŒ… (using a package)</h2>

<p>è¦æ˜¯ç”¨æ–°ä¸‹è½½çš„ package, å¯ä»¥ç›´æ¥ä½¿ç”¨ require() æ¥å¯¼å…¥åŒ…</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">underscore</span><span class="dl">'</span><span class="p">);</span>

</code></pre></div></div>

<p>ä½ å¯èƒ½å¾ˆå¥½å¥‡ä¸ºä»€ä¹ˆè¿™ä¹ˆå†™è¿˜èƒ½æ‰¾åˆ°è¿™ä¸ªåŒ…, å…¶å®è¿™ä¸ª<code class="highlighter-rouge">çš„</code>require()` çš„ç”¨æ³•æ˜¯è¿™æ ·çš„:</p>

<ul>
  <li>è‡ªå¸¦çš„æ¨¡å— (core module)</li>
  <li>å½“å‰ç›®å½•çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ (file of folder)</li>
  <li>åœ¨ <code class="highlighter-rouge">node_modules</code>æ–‡ä»¶å¤¹çš„å†…å®¹ (node_modules)</li>
</ul>

<p>å½“ä½ ä½¿ç”¨<code class="highlighter-rouge">-g</code>å‚æ•°å®‰è£…çš„ npm åŒ…, ä¼šè¢«å®‰è£…åˆ° <code class="highlighter-rouge">core module</code> ä¸­, ä¹Ÿå¯ä»¥è¢«æ­£å¸¸è°ƒç”¨.</p>

<h2 id="5-åŒ…ä¾èµ–-package-dependencies">5. åŒ…ä¾èµ– (Package Dependencies)</h2>

<p>å‡å¦‚æˆ‘ä»¬è¦å®‰è£…ä¸€ä¸ª<code class="highlighter-rouge">mongoose</code>,</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i mongoose
</code></pre></div></div>

<p>å®‰è£…å®Œäº†, æˆ‘ä»¬çœ‹ä¸€ä¸‹<code class="highlighter-rouge">node_modules</code>æ–‡ä»¶å¤¹:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span><span class="nb">ls
</span>bl				ms
bluebird			process-nextick-args
bson				readable-stream
core-util-is			regexp-clone
debug				require_optional
denque				resolve-from
inherits			safe-buffer
isarray				saslprep
kareem				semver
memory-pager			sift
mongodb				sliced
mongoose			sparse-bitfield
mongoose-legacy-pluralize	string_decoder
mpath				underscore
mquery				util-deprecate
MacBook-Pro:node_modules daren<span class="nv">$ </span>

</code></pre></div></div>

<p>å¯ä»¥çœ‹åˆ°è¿™é‡Œä¸æ­¢å®‰è£…äº† mongoose , è¿˜å®‰è£…äº†ä¸€å †åŒ…, mongoose æ˜¯æˆ‘ä»¬é¡¹ç›®çš„ä¾èµ–åŒ…, è€Œè¿™äº›åŒ…æ˜¯ mongoose çš„ä¾èµ–åŒ….</p>

<p>åœ¨è€ç‰ˆæœ¬çš„ npm ä¸­, ä¾èµ–åŒ…çš„ä¾èµ–åŒ…éƒ½å®‰è£…åœ¨ä¾èµ–åŒ…ç›®å½•è‡ªå·±çš„ â€˜node_modulesâ€™ é‡Œé¢, è¿™ç§åƒå¥—å¨ƒä¸€æ ·çš„ç»“æ„ä½¿å¾—ä¸€äº›åŒ…ä¸å¾—ä¸é‡å¤å®‰è£…, è€Œåƒ Windows è¿™ç§å¯¹è·¯å¾„é•¿åº¦æœ‰è¦æ±‚çš„æ“ä½œç³»ç»Ÿä¸‹è¿˜æœ‰ä¸èƒ½è¿è¡Œçš„å¯èƒ½.</p>

<p>åœ¨æ–°ç‰ˆæœ¬çš„ npm ä¸­, ä¾èµ–åŒ…çš„ä¾èµ–åŒ…, ä¼šç»Ÿä¸€æ”¾åœ¨é¡¹ç›®é‡Œç»Ÿä¸€çš„ä¸€ä¸ª<code class="highlighter-rouge">node_modules</code>ä¸­, æ‰€ä»¥<code class="highlighter-rouge">node_modules</code>æ–‡ä»¶å¤¹ä¸­é™¤äº†åˆšæ‰å®‰è£…çš„ mongoose, è¿˜å¤šäº†å¾ˆå¤šä¸œè¥¿.</p>

<p>è€Œå¦‚æœå‡ºç°äº†åŒæ—¶éœ€è¦ä¸€ä¸ªä¾èµ–åŒ…, å¹¶ä¸”ç‰ˆæœ¬å‡ºç°å†²çªæ—¶(åŒä¸€ä¸ªåŒ…çš„ä¸¤ä¸ªç‰ˆæœ¬è¢«éœ€è¦), è¿™æ—¶æ‰ä¼šå°†ä¾èµ–åŒ…å®‰è£…åˆ°éœ€è¦è¿™ä¸ªç‰ˆæœ¬çš„åŒ…çš„<code class="highlighter-rouge">node_modules</code>ç›®å½•é‡Œ.</p>

<h2 id="6-npm-åŒ…å’Œè½¯ä»¶é…ç½®ç®¡ç†-npm-packages-and-scm">6. NPM åŒ…å’Œè½¯ä»¶é…ç½®ç®¡ç† (NPM Packages and SCM)</h2>

<p><code class="highlighter-rouge">node_modules</code>æ–‡ä»¶å¤¹ä¸­å­˜å‚¨äº†æœºä¼šæ‰€æœ‰çš„ä¾èµ–åŒ…, è¿™äº›ä¾èµ–åŒ…åœ¨æŸäº›é¡¹ç›®ä¸­ç”šè‡³èƒ½è¾¾åˆ°ä¸Šç™¾å…†, å½“ä½ éœ€è¦ä½¿ç”¨åƒ git è¿™æ ·çš„ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿçš„æ—¶å€™, ä¸ºäº†èŠ‚çœæ—¶é—´, æ²¡å¿…è¦è¿å¸¦ç€<code class="highlighter-rouge">node_module</code>æ–‡ä»¶å¤¹ä¸€åŒè¿›è¡Œ commit, ç›´æ¥æ”¾åˆ° <code class="highlighter-rouge">.gitignore</code>æ–‡ä»¶ä¸­å°±å¯ä»¥äº†.</p>

<p>å¦‚æœä½ éœ€è¦é‡æ–°ç»™é¡¹ç›®å®‰è£…ä¾èµ–åŒ…,ç›´æ¥</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i <span class="c"># æˆ–è€… install</span>
</code></pre></div></div>

<p>å°±å¯ä»¥é‡æ–°ä¸‹è½½ä¾èµ–åŒ…äº†.</p>

<h2 id="7-è¯­ä¹‰ç‰ˆæœ¬å·-semantic-versioning">7. è¯­ä¹‰ç‰ˆæœ¬å· (Semantic Versioning)</h2>

<p>è¯­ä¹‰ç‰ˆæœ¬å·(Semantic Versioning) è¢«å¹¿æ³›é‡‡ç”¨, æ¯”å¦‚æˆ‘ä»¬æ‰“å¼€ package.json å°±ä¼šçœ‹åˆ°ä¾èµ–åŒ…çš„ç‰ˆæœ¬å‘½åå°±æ˜¯ç”¨çš„è¯­ä¹‰ç‰ˆæœ¬å·(Semantic Versioning .aka SemVer)</p>

<p><img src="https://raw.githubusercontent.com/heidaren0000/blogGallery/master/imgs/7-1-1-semantic-Versioning.png" alt="" /></p>

<p>è¿™ç§ç‰ˆæœ¬å·å°±æ˜¯ä¸‰ç»„æ•°å­—</p>

<p>Major.Minor.Patch</p>

<p>ä¸»è¦ç‰ˆæœ¬.å°ç‰ˆæœ¬.è¡¥ä¸ç‰ˆæœ¬</p>

<ul>
  <li>è¡¥ä¸ç‰ˆæœ¬: ä¸»è¦æ˜¯ä¿®å¤ bug æˆ–è€…ä¿®å¤å®‰å…¨é—®é¢˜, ä¸ä¼šå¯¹ API è¿›è¡Œæ”¹åŠ¨</li>
  <li>å°ç‰ˆæœ¬: å¢åŠ åŠŸèƒ½, ä¸ä¼šç ´ååŸæœ‰ API</li>
  <li>ä¸»è¦ç‰ˆæœ¬: å¯èƒ½ä¼šä¿®æ”¹æŸäº› API, å¯¼è‡´ä¾èµ–è¿™ä¸ªçš„åŒ…ä¸èƒ½æ­£å¸¸å·¥ä½œ.</li>
</ul>

<p>è¿˜æœ‰äº›ç‰¹æ®Šçš„ç¬¦å·, æ¯”å¦‚<code class="highlighter-rouge">^</code>(Caret)å’Œ<code class="highlighter-rouge">~</code>(Tilde)</p>

<ul>
  <li><code class="highlighter-rouge">^</code>ä¸»è¦ç‰ˆæœ¬ä¸å˜å³å¯ 4.X</li>
  <li><code class="highlighter-rouge">~</code>ä¸»è¦ç‰ˆæœ¬å’Œå°ç‰ˆæœ¬éƒ½ä¸èƒ½å˜ 1.8.X</li>
</ul>

<p>å¦‚æœä½ æƒ³è¦ä¿æŒç‰ˆæœ¬å·ä¸å˜, é‚£ä¹ˆå°±ç›´æ¥å†™æ•°å­—å°±å¥½, ä¸ç”¨åœ¨å‰é¢åŠ ç‰¹æ®Šç¬¦å·äº†å°±.</p>

<h2 id="8-åˆ—å‡ºå·²å®‰è£…åŒ…listing-the-installed-packages">8. åˆ—å‡ºå·²å®‰è£…åŒ…(Listing the Installed Packages)</h2>

<h3 id="1-çœ‹-node_module">1. çœ‹ <code class="highlighter-rouge">node_module</code></h3>

<p>ç›´æ¥åœ¨<code class="highlighter-rouge">node_module</code>æ–‡ä»¶å¤¹æ‰¾åˆ°è¿™ä¸ªåŒ…, ç‚¹è¿›å»çœ‹ package.json å°±è¡Œ.</p>

<p><img src="https://raw.githubusercontent.com/heidaren0000/blogGallery/master/imgs/8-1-1-check-pacakge-version.png" alt="" /></p>

<p>ä¸Šé¢çš„æ–¹æ³•çœ‹å¤šä¸ªåŒ…çš„ç‰ˆæœ¬ä¼šå¾ˆç—›è‹¦, ä¸‹é¢çš„æ–¹æ³•æ›´å¥½äº›</p>

<h3 id="2-å‘½ä»¤è¡Œå·¥å…·">2. å‘½ä»¤è¡Œå·¥å…·</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm list
</code></pre></div></div>

<p>è¿™ä¸ªå‘½ä»¤å¯ä»¥ç›´æ¥çœ‹åˆ°å·²ç»å®‰è£…å¥½çš„æ‰€æœ‰çš„åŒ….</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span>npm list
npm-demo@1.0.0 /Users/daren/Desktop/npm-demo
â”œâ”€â”¬ mongoose@5.9.1
â”‚ â”œâ”€â”€ bson@1.1.3
â”‚ â”œâ”€â”€ kareem@2.3.1
â”‚ â”œâ”€â”¬ mongodb@3.5.3
â”‚ â”‚ â”œâ”€â”¬ bl@2.2.0
â”‚ â”‚ â”‚ â”œâ”€â”¬ readable-stream@2.3.7
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ core-util-is@1.0.2
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ inherits@2.0.4
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ isarray@1.0.0
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ process-nextick-args@2.0.1
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ safe-buffer@5.1.2 deduped
â”‚ â”‚ â”‚ â”‚ â”œâ”€â”¬ string_decoder@1.1.1
â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€ safe-buffer@5.1.2 deduped
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ util-deprecate@1.0.2
â”‚ â”‚ â”‚ â””â”€â”€ safe-buffer@5.1.2 deduped
â”‚ â”‚ â”œâ”€â”€ bson@1.1.3 deduped
â”‚ â”‚ â”œâ”€â”€ denque@1.4.1
â”‚ â”‚ â”œâ”€â”¬ require_optional@1.0.1
â”‚ â”‚ â”‚ â”œâ”€â”€ resolve-from@2.0.0
â”‚ â”‚ â”‚ â””â”€â”€ semver@5.7.1
â”‚ â”‚ â”œâ”€â”€ safe-buffer@5.1.2 deduped
â”‚ â”‚ â””â”€â”¬ saslprep@1.0.3
â”‚ â”‚   â””â”€â”¬ sparse-bitfield@3.0.3
â”‚ â”‚     â””â”€â”€ memory-pager@1.5.0
â”‚ â”œâ”€â”€ mongoose-legacy-pluralize@1.0.2
â”‚ â”œâ”€â”€ mpath@0.6.0
â”‚ â”œâ”€â”¬ mquery@3.2.2
â”‚ â”‚ â”œâ”€â”€ bluebird@3.5.1
â”‚ â”‚ â”œâ”€â”¬ debug@3.1.0
â”‚ â”‚ â”‚ â””â”€â”€ ms@2.0.0
â”‚ â”‚ â”œâ”€â”€ regexp-clone@1.0.0 deduped
â”‚ â”‚ â”œâ”€â”€ safe-buffer@5.1.2 deduped
â”‚ â”‚ â””â”€â”€ sliced@1.0.1 deduped
â”‚ â”œâ”€â”€ ms@2.1.2
â”‚ â”œâ”€â”€ regexp-clone@1.0.0
â”‚ â”œâ”€â”€ safe-buffer@5.1.2
â”‚ â”œâ”€â”€ sift@7.0.1
â”‚ â””â”€â”€ sliced@1.0.1
â””â”€â”€ underscore@1.9.2


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 npm update check failed                  â”‚
â”‚           Try running with <span class="nb">sudo </span>or get access            â”‚
â”‚           to the <span class="nb">local </span>update config store via           â”‚
â”‚ <span class="nb">sudo chown</span> <span class="nt">-R</span> <span class="nv">$USER</span>:<span class="si">$(</span><span class="nb">id</span> <span class="nt">-gn</span> <span class="nv">$USER</span><span class="si">)</span> /Users/daren/.config â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MacBook-Pro:node_modules daren<span class="nv">$ </span>

</code></pre></div></div>

<p>è¿˜å¯ä»¥è§„å®šæŸ¥çœ‹çš„æ·±åº¦, æ¯”å¦‚æˆ‘åªæƒ³çœ‹é¡¹ç›®æœ¬èº«çš„åŒ…, è€Œä¸æ˜¯ä¾èµ–åŒ…çš„åŒ…, é‚£ä¹ˆå¯ä»¥è§„å®šæ·±åº¦ä¸º 0.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm list <span class="nt">--depth</span><span class="o">=</span>0
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span>npm list <span class="nt">--depth</span><span class="o">=</span>0
npm-demo@1.0.0 /Users/daren/Desktop/npm-demo
â”œâ”€â”€ mongoose@5.9.1
â””â”€â”€ underscore@1.9.2


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 npm update check failed                  â”‚
â”‚           Try running with <span class="nb">sudo </span>or get access            â”‚
â”‚           to the <span class="nb">local </span>update config store via           â”‚
â”‚ <span class="nb">sudo chown</span> <span class="nt">-R</span> <span class="nv">$USER</span>:<span class="si">$(</span><span class="nb">id</span> <span class="nt">-gn</span> <span class="nv">$USER</span><span class="si">)</span> /Users/daren/.config â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MacBook-Pro:node_modules daren<span class="nv">$ </span>

</code></pre></div></div>

<h2 id="9-æŸ¥çœ‹-npm-åŒ…çš„æ³¨å†Œä¿¡æ¯-viewing-registry-information-about-npm-packages">9. æŸ¥çœ‹ npm åŒ…çš„æ³¨å†Œä¿¡æ¯ (viewing registry information about npm packages)</h2>

<h3 id="1-å»å®˜ç½‘">1. å»å®˜ç½‘</h3>

<p>åœ¨ npmjs.com å¯ä»¥æŸ¥åˆ°è¿™ä¸ª npm åŒ…ç›¸å…³ä¿¡æ¯</p>

<p><img src="https://raw.githubusercontent.com/heidaren0000/blogGallery/master/imgs/9-1-1-npmjs-info.png" alt="" /></p>

<h3 id="2-å‘½ä»¤è¡Œ-npm-view">2. å‘½ä»¤è¡Œ npm view</h3>

<p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ä¹Ÿèƒ½æŸ¥åˆ°åŒ…çš„ç›¸å…³ä¿¡æ¯</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm view åŒ…å
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span>npm view mongoose

mongoose@5.9.1 | MIT | deps: 11 | versions: 575
Mongoose MongoDB ODM
https://mongoosejs.com

dist
.tarball: https://registry.npm.taobao.org/mongoose/download/mongoose-5.9.1.tgz
.shasum: 48a5fafe6bc7b57d6b41b12ebf55fa5f609518d6

dependencies:
bson: ~1.1.1                     ms: 2.1.2                        
kareem: 2.3.1                    regexp-clone: 1.0.0              
mongodb: 3.5.3                   safe-buffer: 5.1.2               
mongoose-legacy-pluralize: 1.0.2 sift: 7.0.1                      
mpath: 0.6.0                     sliced: 1.0.1                    
mquery: 3.2.2                    

maintainers:
- aaron &lt;aaron.heckmann+github@gmail.com&gt;
- rauchg &lt;rauchg@gmail.com&gt;
- tjholowaychuk &lt;tj@vision-media.ca&gt;
- vkarpov15 &lt;valkar207@gmail.com&gt;

dist-tags:
latest: 5.9.1    legacy: 4.13.19  unstable: 3.9.7  

published 3 days ago by vkarpov15 &lt;val@karpov.io&gt;

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 npm update check failed                  â”‚
â”‚           Try running with <span class="nb">sudo </span>or get access            â”‚
â”‚           to the <span class="nb">local </span>update config store via           â”‚
â”‚ <span class="nb">sudo chown</span> <span class="nt">-R</span> <span class="nv">$USER</span>:<span class="si">$(</span><span class="nb">id</span> <span class="nt">-gn</span> <span class="nv">$USER</span><span class="si">)</span> /Users/daren/.config â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
MacBook-Pro:node_modules daren<span class="nv">$ </span>
</code></pre></div></div>

<p>è¦æ˜¯æ„Ÿè§‰ä¿¡æ¯å¤ªå¤šå¤ªä¹±, è¿˜å¯ä»¥ç›´æ¥çœ‹ç›¸å…³çš„å±æ€§, ä¸‹é¢ä¸¾ä¾‹å­æŸ¥çœ‹ mongoose çš„ä¾èµ–ä¿¡æ¯:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm view mongoose dependencies
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span>npm view mongoose dependencies
 
<span class="o">{</span> bson: <span class="s1">'~1.1.1'</span>,
  kareem: <span class="s1">'2.3.1'</span>,
  mongodb: <span class="s1">'3.5.3'</span>,
  <span class="s1">'mongoose-legacy-pluralize'</span>: <span class="s1">'1.0.2'</span>,
  mpath: <span class="s1">'0.6.0'</span>,
  mquery: <span class="s1">'3.2.2'</span>,
  ms: <span class="s1">'2.1.2'</span>,
  <span class="s1">'regexp-clone'</span>: <span class="s1">'1.0.0'</span>,
  <span class="s1">'safe-buffer'</span>: <span class="s1">'5.1.2'</span>,
  sliced: <span class="s1">'1.0.1'</span>,
  sift: <span class="s1">'7.0.1'</span> <span class="o">}</span>
</code></pre></div></div>

<p>è¿˜å¯ä»¥åˆ—å‡ºè¿™ä¸ªåŒ…çš„æ‰€æœ‰ç‰ˆæœ¬, è¿˜æ‹¿ mongoose ä¸¾ä¾‹</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node view mongoose versions
</code></pre></div></div>

<h2 id="10-å®‰è£…ç‰¹å®šç‰ˆæœ¬è½¯ä»¶åŒ…-installing-a-specific-version-of-a-package">10. å®‰è£…ç‰¹å®šç‰ˆæœ¬è½¯ä»¶åŒ… (Installing a Specific Version of a Package)</h2>

<p>æœ‰æ—¶å€™éœ€è¦å®‰è£…çš„ç‰ˆæœ¬ä¸æ˜¯æœ€æ–°ç‰ˆ, å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•å®‰è£…, æ‹¿ mongoose ä¸¾ä¾‹</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i mongoose@4.5.1
</code></pre></div></div>

<p>ç”¨<code class="highlighter-rouge">@</code>åé¢æ¥ç‰ˆæœ¬å·çš„æ–¹å¼æ¥è¿›è¡ŒæŒ‡å®šç‰ˆæœ¬å·, è¿™ä¹ˆå®‰è£…ä¹‹å, package.json ä¸­çš„ç‰ˆæœ¬å·ä¹Ÿä¼šæ˜¯è¿™ä¸ªç‰ˆæœ¬.</p>

<h2 id="11-å‡çº§åŒ…ç‰ˆæœ¬updating-local-packages">11. å‡çº§åŒ…ç‰ˆæœ¬(Updating Local Packages)</h2>

<p>å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ£€æŸ¥åŒ…æ˜¯å¦å·²ç»è¿‡æ—¶(outdated):</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm outdated
</code></pre></div></div>

<p>è¿™é‡Œç”¨<code class="highlighter-rouge">underscore</code>æ¥ä¸¾ä¾‹,</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span>npm outdated
Package     Current  Wanted  Latest  Location
underscore    1.4.0   1.9.2   1.9.2  npm-demo
MacBook-Pro:node_modules daren<span class="nv">$ </span>
</code></pre></div></div>

<p>å¯ä»¥çœ‹åˆ°è¿™é‡Œæœ‰ä¸‰ä¸ªç‰ˆæœ¬, Current(å½“å‰ç‰ˆæœ¬), Wanted(æ‰€éœ€ç‰ˆæœ¬), Latest(æœ€æ–°ç‰ˆæœ¬).</p>

<ul>
  <li>å½“å‰ç‰ˆæœ¬: ç›®å‰æ­£åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬</li>
  <li>æ‰€éœ€ç‰ˆæœ¬: æ ¹æ®package.jsonæ¨ç®—å‡ºçš„ç‰ˆæœ¬, æ¯”å¦‚<code class="highlighter-rouge">^2.1.0</code>ä¼šæŒ‰ç…§å¤§ç‰ˆæœ¬å·<code class="highlighter-rouge">2.X.X</code>è¿›è¡Œæ›´æ–°. <code class="highlighter-rouge">~2.1.0</code>ä¼šæŒ‰ç…§å°ç‰ˆæœ¬å·<code class="highlighter-rouge">2.1.X</code>è¿›è¡Œæ›´æ–°. ç”±äºå¤§ç‰ˆæœ¬å¯èƒ½ä¼šç ´ååŸæœ‰çš„ API, æ‰€ä»¥æœ‰çš„æ—¶å€™å¹¶ä¸æ˜¯æœ€æ–°ç‰ˆå°±æœ€å¥½, è€Œæ˜¯åœ¨åˆé€‚çš„æƒ…å†µä¸‹é€‰æ‹©æœ€é€‚åˆçš„ç‰ˆæœ¬.</li>
  <li>æœ€æ–°ç‰ˆæœ¬: å°±æ˜¯æœ€æ–°ç‰ˆæœ¬</li>
</ul>

<p>å¦‚æœæƒ³è¦å‡çº§åŒ…çš„è¯, å¯ä»¥ä½¿ç”¨å‘½ä»¤</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm update
</code></pre></div></div>

<p>è¿™ä¹ˆåšä¼šå‡çº§åˆ°æœ€æ–°çš„æ‰€éœ€ç‰ˆæœ¬, ä½†æ˜¯ä¸ä¸€å®šæ˜¯æœ€æ–°ç‰ˆæœ¬.</p>

<p>å¦‚æœè¦å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬, å¯ä»¥ä½¿ç”¨ä¸€ä¸ª npm åŒ…, å«åš <code class="highlighter-rouge">npm-check-updates</code>(åˆ«å¿˜äº†s)</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i <span class="nt">--g</span> npm-check-updates
</code></pre></div></div>

<p>ç„¶åå°±å¯ä»¥æ–¹ä¾¿çš„æ£€æŸ¥æ˜¯å¦æœ‰å¯ä»¥å‡çº§åˆ°æœ€æ–°ç‰ˆçš„åŒ…</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span>npm-check-updates
Checking /Users/daren/Desktop/npm-demo/package.json
<span class="o">[====================]</span> 2/2 100%

 underscore  ^1.4.0  â†’  ^1.9.2 

Run ncu <span class="nt">-u</span> to upgrade package.json


</code></pre></div></div>

<p>æ³¨æ„è¿™é‡Œåªæ˜¯è¿›è¡Œäº†æ£€æŸ¥, æ²¡æœ‰ä»»ä½•çš„æ“ä½œ. åœ¨ shell è¾“å‡ºçš„æœ€åä¸€è¡Œå¯ä»¥çœ‹åˆ°:â€˜Run ncu -u to upgrade package.jsonâ€™, æ‰§è¡Œ <code class="highlighter-rouge">ncu -u</code> æ¥å¯¹ package.json è¿›è¡Œæ›´æ–°. <code class="highlighter-rouge">ncu</code> å°±æ˜¯<code class="highlighter-rouge">np-check-updates</code>çš„ç¼©å†™.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ncu <span class="nt">-u</span>
</code></pre></div></div>

<p>è¿™ä¸ªæ‰§è¡Œä¹‹ååªæ˜¯æ›´æ–°äº† package.json ä¸­çš„ä¾èµ–ç‰ˆæœ¬å·, å¹¶æ²¡æœ‰è¿›è¡ŒçœŸæ­£çš„åŒ…æ›´æ–°, ç°åœ¨æˆ‘ä»¬è¿˜è¦è¿›è¡Œ<code class="highlighter-rouge">npm install</code>é‡å»ºä¾èµ–åŒ…çš„ç»“æ„</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span>
</code></pre></div></div>

<h2 id="12-å¼€å‘ç”¨é€”ä¾èµ–åŒ…devdependencies">12. å¼€å‘ç”¨é€”ä¾èµ–åŒ…(DevDependencies)</h2>

<p>æœ‰æ—¶å€™æœ‰çš„åŒ…æ˜¯ç”¨æ¥ debug ç”¨çš„, å¹¶ä¸ä¼šåœ¨éƒ¨ç½²çš„æ—¶å€™ç”¨åˆ°. è¿™æ—¶å€™å°±è¦ç”¨åˆ° å¼€å‘ç”¨é€”ä¾èµ–åŒ…(DevDependencies), è¿™ç§ä¾èµ–åŒ…åœ¨éƒ¨ç½²çš„æ—¶å€™ä¸ä¼šè¢«å®‰è£….</p>

<p>è¿™é‡Œç”¨ js çš„ debug å·¥å…· jshint å®‰è£…æˆå¼€å‘ç”¨ä¾èµ–åŒ…è¿›è¡Œä¸¾ä¾‹:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span><span class="nb">sudo </span>npm <span class="nb">install </span>jshint <span class="nt">--save-dev</span>
Password:
npm WARN npm-demo@1.0.0 No repository field.

+ jshint@2.11.0
added 29 packages from 15 contributors and removed 1 package <span class="k">in </span>2.073s
MacBook-Pro:node_modules
</code></pre></div></div>

<p>å®‰è£…å®Œæˆä¹‹å,  package.json ä¹Ÿæœ‰äº†ç›¸åº”çš„å˜åŒ–:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"mongoose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.9.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"underscore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^1.9.2"</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
  </span><span class="nl">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"jshint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^2.11.0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>å¤šäº†ä¸€ä¸ªä¸“é—¨çš„ä»£ç å—<code class="highlighter-rouge">devDependencies</code></p>

<p>è€Œ jshint å®‰è£…çš„ä½ç½®è¿˜æ˜¯åœ¨ <code class="highlighter-rouge">node_modules</code> ä¸­.</p>

<h2 id="13-åˆ é™¤åŒ…uninstalling-packages">13. åˆ é™¤åŒ…(Uninstalling Packages)</h2>

<p>è¿˜æ˜¯æ‹¿ mongoose ä¸¾ä¾‹</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm uninstall mongoose
<span class="c"># uninstall ä¹Ÿå¯ä»¥ç®€å†™æˆ un</span>
</code></pre></div></div>

<p>åœ¨è¿™ä¹‹å, mongoose å°±ä¼šè¢« package.json å’Œ node_modules ä¸­ç§»é™¤.</p>

<h2 id="14-å…¨å±€åŒ…working-with-global-packages">14. å…¨å±€åŒ…(Working with Global Packages)</h2>

<p>é»˜è®¤æƒ…å†µä¹‹ä¸‹ä½¿ç”¨<code class="highlighter-rouge">npm i</code>åªä¼šåœ¨æœ¬åœ°çš„é¡¹ç›®ä¸­å®‰è£…ä¾èµ–åŒ…. ç„¶è€Œæœ‰çš„åŒ…æ›´é€‚åˆåœ¨å…¨å±€ä¸­ä½¿ç”¨, æ¯”å¦‚åƒ <code class="highlighter-rouge">lodash</code> å’Œ <code class="highlighter-rouge">underscore</code> è¿˜æœ‰ä¸€äº›å‘½ä»¤è¡Œå·¥å…·, åƒ<code class="highlighter-rouge">npm</code>æœ¬èº«å°±æ˜¯åœ¨å…¨å±€å®‰è£…çš„å‘½ä»¤è¡Œå·¥å…·, æˆ–è€…<code class="highlighter-rouge">vue/cli</code>ç­‰ç­‰.</p>

<p>è¦å®‰è£…å…¨å±€çš„åŒ…, å¯ä»¥åœ¨åŸæ¥çš„å®‰è£…å‘½ä»¤ä¸Šå¸¦ä¸€ä¸ª<code class="highlighter-rouge">-g</code>å‚æ•°</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i <span class="nt">-g</span> vue
</code></pre></div></div>

<p>å…¶å®å¤§éƒ¨åˆ†çš„åŒ…ç®¡ç†å‘½ä»¤è¦ä¸Šå‡åˆ°å…¨å±€éƒ½å¯ä»¥é€šè¿‡å¸¦ä¸€ä¸ª<code class="highlighter-rouge">-g</code>æ¥è¿›è¡Œ</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm outdated <span class="nt">-g</span>
npm uninstall <span class="nt">-g</span>
ncu <span class="nt">-g</span>
...
</code></pre></div></div>

<h2 id="15-å‘å¸ƒä¸€ä¸ªåŒ…-publish-a-package">15. å‘å¸ƒä¸€ä¸ªåŒ… (Publish a Package)</h2>

<p>ä½ ä¹Ÿå¯ä»¥å‘å¸ƒè‡ªå·±å†™çš„åŒ…</p>

<h3 id="1-æ³¨å†Œè´¦æˆ·">1. æ³¨å†Œè´¦æˆ·</h3>

<p>ä½¿ç”¨<code class="highlighter-rouge">npm adduser</code>æ¥æ³¨å†Œä¸€ä¸ªä»“åº“(repository)</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span>npm adduser
Username: heidaren0000
Password: 
Email: <span class="o">(</span>this IS public<span class="o">)</span> heidaren0000@gmail.com
Logged <span class="k">in </span>as heidaren0000 on http://registry.npm.taobao.org/.
</code></pre></div></div>

<h3 id="2-ç™»é™†">2. ç™»é™†</h3>

<p>ä½¿ç”¨<code class="highlighter-rouge">npm login</code>æ¥è¿›è¡Œç™»å½•</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:node_modules daren<span class="nv">$ </span>npm login
Username: <span class="o">(</span>heidaren0000<span class="o">)</span> 
Password: <span class="o">(</span>&lt;default hidden&gt;<span class="o">)</span> 
Email: <span class="o">(</span>this IS public<span class="o">)</span> <span class="o">(</span>heidaren0000@gmail.com<span class="o">)</span> 
Logged <span class="k">in </span>as heidaren0000 on http://registry.npm.taobao.org/.
</code></pre></div></div>

<h3 id="3-å‘å¸ƒ">3. å‘å¸ƒ</h3>

<p>è¿™é‡Œå†™äº†ä¸€ä¸ªç®€å•çš„å°é¡¹ç›®<code class="highlighter-rouge">daren-Hello</code>, å¯ä»¥æ‰§è¡Œç®€å•çš„åŠ æ³•. æˆ‘ä»¬æŠŠå®ƒå‘å¸ƒä¸€ä¸‹, ç”¨<code class="highlighter-rouge">npm publish</code></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:daren-hello daren<span class="nv">$ </span>npm publish
npm notice 
npm notice ğŸ“¦  daren-hello@1.0.0
npm notice <span class="o">===</span> Tarball Contents <span class="o">===</span> 
npm notice 229B package.json
npm notice 46B  index.js    
npm notice <span class="o">===</span> Tarball Details <span class="o">===</span> 
npm notice name:          daren-hello                             
npm notice version:       1.0.0                                   
npm notice package size:  328 B                                   
npm notice unpacked size: 275 B                                   
npm notice shasum:        7af193a7ef2e6ddfccbbe05df9f496d369d6614d
npm notice integrity:     sha512-TciwyV/8/UHLd[...]/bqF+0LHJbm9Q<span class="o">==</span>
npm notice total files:   2                                       
npm notice 
npm ERR! code E403
npm ERR! 403 Forbidden - PUT http://registry.npm.taobao.org/daren-hello - <span class="o">[</span>no_perms] Private mode <span class="nb">enable</span>, only admin can publish this module

npm ERR! A <span class="nb">complete </span>log of this run can be found <span class="k">in</span>:
npm ERR!     /Users/daren/.npm/_logs/2020-02-18T14_56_45_925Z-debug.log
</code></pre></div></div>

<p>ä½†æ˜¯è¿™é‡Œæ˜æ˜¾å°±æ˜¯æ²¡æœ‰å‘å¸ƒä¸Š, å› ä¸ºæˆ‘ç”¨çš„æºæ˜¯æ·˜å®çš„<code class="highlighter-rouge">cnpm</code>, å®ƒçš„ç®¡ç†å‘˜å¼€äº†<code class="highlighter-rouge">private mode</code>, åªæœ‰ç®¡ç†å‘˜æ‰èƒ½å‘å¸ƒåŒ….</p>

<h3 id="4ä½¿ç”¨">4.ä½¿ç”¨</h3>

<p>å¦‚æœèƒ½å‘å¸ƒæˆåŠŸçš„è¯, å°±å¯ä»¥ç›´æ¥ç”¨<code class="highlighter-rouge">npm install</code>æ¥å®‰è£…äº†.</p>

<p>å‘å¸ƒçš„è¿‡ç¨‹ä¸­<code class="highlighter-rouge">package.json</code>ä¼šè‡ªåŠ¨å¢åŠ ä¸€äº›å…ƒæ•°æ®(meta data), çœ‹èµ·æ¥ä¼šå’ŒåŸæ¥çš„æœ‰ç‚¹åŒºåˆ«.</p>

<h2 id="16-æ›´æ–°å·²å‘å¸ƒçš„åŒ…updating-a-published-package">16. æ›´æ–°å·²å‘å¸ƒçš„åŒ…(Updating a Published Package)</h2>

<p>å‘å¸ƒæ›´æ–°çš„æ—¶å€™åªè¦æ³¨æ„ç‰ˆæœ¬å·ä¸èƒ½æ¯”ä»¥å‰æ›´æ—§å°±å¯ä»¥ç”¨<code class="highlighter-rouge">npm publish</code>å¯¹è‡ªå·±çš„æºä¸­çš„ npm è½¯ä»¶åŒ…è¿›è¡Œæ›´æ–°.</p>

<p>æ‰€ä»¥å¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">npm version</code>æ¥åˆ·ç‰ˆæœ¬å·</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm version major 
<span class="c"># æ›´æ–°ä¸»è¦ç‰ˆæœ¬, ä¹Ÿå°±æ˜¯ä¸»è¦ç‰ˆæœ¬å· +1</span>
npm version minor
<span class="c"># æ›´æ–°å°ç‰ˆæœ¬å·, ä¹Ÿå°±æ˜¯å°ç‰ˆæœ¬å· +1</span>
npm version patch
<span class="c"># æ›´æ–°è¡¥ä¸ç‰ˆæœ¬å·, è¡¥ä¸ç‰ˆæœ¬å· +1</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>MacBook-Pro:daren-hello daren<span class="nv">$ </span>npm version minor
v1.1.0
</code></pre></div></div>

<p>å°±æ˜¯è¿™æ ·. ç„¶åå°±èƒ½ç”¨ <code class="highlighter-rouge">npm publish</code> æ›´æ–°æºä¸­çš„åŒ…äº†.</p>

  </div><a class="u-url" href="/node/2020/02/18/NodeJS(3)-NPM.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <h2 class="footer-heading">Daren&#39;s Daliy</h2>
        <ul class="contact-list">
          <li class="p-name">é»‘å¤§ä»»</li>
          <li><a class="u-email" href="mailto:heidaren0000@gmail.com">heidaren0000@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>æˆ‘ä»¬åˆšåˆšæ¥åˆ°å±±è„š. å‰è·¯æ¼«æ¼«, å¯æƒœä¸æ˜¯æ‰€æœ‰äººéƒ½èƒ½å¤Ÿä¸€è§ˆç¾¤å±±. We just at foot of mountain. It still a long way to go, what a pity that not everyone could up to the top.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
